# DOM / Virtual DOM?

## DOM(Document Object Model)이란?

- HTML 코드를 해석해서 요소들을 트리 형태로 구조화해 표현하는 형식

- DOM은 문서 객체 모델이라고 하는데 결국은 브라우저에서 다룰 HTML 문서를 파싱하여 "**문서의 구성요소들을 객체로 구조화 하여 나타낸 것**"이다.

<hr/>

## Virtual DOM이란?

- 가상돔은 실제 돔 문서를 추상화한 개념으로, 변화가 많은 뷰를 실제 돔에서 계속 처리하는 방식이 아닌 가상돔과 메모리에서 미리 처리하고 저장된 후에 실제 DOM과 동기화하는 개념

<hr/>

#### 동작 순서

1. 변화가 일어나게 되면 변화된 버전을 가상돔으로 갈아끼운다.
   데이터가 업데이트 되면 전체 UI를 가상돔에 리렌더링한다.
2. 가상돔끼리 비교
   변화 전의 가상돔과 변화된 가상돔을 비교한다.
3. 바뀐 부분만 적용
   바뀐 부분만 실제 돔에 적용함으로서 레이아웃 계산은 한번만 이행한다.

<hr/>

# 추가 질문 리스트

### DOM 목적?

- 자바스크립트를 사용해서 웹콘텐츠를 추가, 수정, 삭제 그리고 이벤트 처리등을 하기 위해서.
- DOM은 자바스크립트를 사용해서 웹 화면의 콘텐츠를 추가, 수정 삭제 하거나 이벤트를 처리할 수 있도록 프로그램이 인터페이스를 제공한다.

<hr/>

### DOM은 html인가요?

- 깊이 연관되어 있지만 같지는 않다!

<hr/>

### 내가 작성한 HTML 파일이 DOM인가?

- No
- 내가 작성한 HTML 코드와 개발자 도구에서 보여지는 코드가 같아 보이지만, 사실 다르다.

<hr/>

### 소스보기에 보여지는 것들이 DOM인가?

- No

<hr/>

### 크롬 개발자 도구에서 보여주는 것들이 DOM인가?

- Yes

<hr/>

### JavaScript vs DOM

- JavaScript는 브라우저가 읽고 사용하는 언어입니다.
- 하지만 DOM은 그 일이 일어나는 곳입니다.
- DOM은 브라우저내에서 작동하고 존재한다.
- DOM은 파싱 된 HTML이라고 말할 수 있습니다.
- 웹페이지가 로드되면 브라우저는 DOM 페이지을 만든다

<hr/>

### DOM은 자바스크립트 요소?

- 아니다!
- 자바스크립트를 사용해서 명령을 받을 수 있고, 실제로 그렇게 가장 흔히 사용되지만 DOM이 특정 언어에 종속되지는 않음.
- 자바스크립트 객체는 아니지만, 자바스크립트 등을 사용해서 제어할 수 있는 대상
- 어떤 언어로든 라이브러리만 갖추어져 있으면 DOM사용 가능 -> DOM이 API를 가지고 있음.
- ex) 파이썬에서도 BeautifulSoup을 사용해서 DOM조작 가능!

<hr/>

### API?

- 어떤 방식으로 명령이나 요청을 내리면 그거에 따라서 기능들을 수행하도록 만들어 놓은 것

<hr/>

<!-- ### 9분 jquery vs React -->

### 화면에 나타나고 바뀌려고 하면 어차피 DOM을 써야하는데 Virtual DOM을 왜 만드는가요?

- 실제 DOM은 이것저것 든 게 많고 무거우니까 그것들을 간략한 자바스크립트 오브젝트로 바꾼 다음에 먼저 시뮬레이션을 돌려가지고 가장 경제적으로 DOM에 변화를 가하는 방법을 찾아낸다. -> diffing

<hr/>

#### 추상화 (Abstraction)?

- 복잡한 내용은 숨기고, 주요 기능에만 신경 쓰는 것
- ex) 리모콘

<hr/>

### Virtual DOM이 무조건 좋은건가?

- 아니요! 예) Svelte! 가상돔을 안써서 더 빠름
- 시뮬레이션 과정을 빼면 더 빨라짐

<hr/>

### React, Vue는 왜 Virtual DOM 사용? 안쓰면 더 빠른거 아닌가?

|    구분    |          React, Vue          |              Svelte              |
| :--------: | :--------------------------: | :------------------------------: |
|    형태    | 라이브러리 or framework 형태 |             컴파일러             |
| 언제 실행? |     사이트가 실행 될 때      | 사이트에 배포되기 전에 미리 빌드 |

- Svelte로 만든 프로젝트는 용량면에서도 더 가볍고 DOM 동작도 더 빠름
<hr/>

### Svelte가 무조건 좋음?

- 조심스러운 질문이다.
- 상대적으로 새로운 기술이기에 기능, 커뮤니티가 덜 쌓인 부분이 있다.
- 코드를 미리 컴파일하여 내보내야 하는 것도 특정 형태의 사이트에서는 한계가 될 수 있다. (예시를 못찾음)
- 이에 비하면 React, Vue는 강력한 기능도 많고 안정성도 많이 다뎌진 상태이다.
