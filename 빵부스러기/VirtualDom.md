# DOM / Virtual DOM?

## DOM(Document Object Model)이란?

- HTML 코드를 해석해서 요소들을 트리 형태로 구조화해 표현하는 형식

- DOM은 문서 객체 모델이라고 하는데 결국은 브라우저에서 다룰 HTML 문서를 파싱하여 "문서의 구성요소들을 객체로 구조화 하여 나타낸 것"이다.
- HTML이란 코드로 설계된 웹페이지가 브라우저 안에서 화면에 나타나고 이벤트에 반응하고 값을 입력받는 등 기능들을 수행할 객체들로 실체화된 형태
- HTML요소 하나하나가 부품, 이것들로 조립되어서 만들어진 웹페이지를 갖다가 실제품을 찍어낸게 DOM

## Virtual DOM이란?

- 실제 돔의 가벼운 사본 같은 개념. 실제 돔에 접근하여 조작하는 대신 이것을 추상화시킨 자바스크립트 객체를 이용해 사용한다.

- DOM을 반복적으로 직접 조작하면 그 만큼 브라우저가 렌더링을 자주하게 되고, 그 만큼 PC 자원을 많이 소모하게 되는 문제를 해결하기 위한 기술
- DOM의 구조만 간결히 흉내낸 자바스크립트 객체.
- React, Vue 같은 것들에대한 기본 적인 이해 필요 -> SPA
- 자바스크립트로 필요한 부분만 바꿔주는 것

#### 동작 순서

1. 변화가 일어나게 되면 변화된 버전을 가상돔으로 갈아끼운다.
   데이터가 업데이트 되면 전체 UI를 가상돔에 리렌더링한다.
2. 가상돔끼리 비교
   변화 전의 가상돔과 변화된 가상돔을 비교한다.
3. 바뀐 부분만 적용
   바뀐 부분만 실제 돔에 적용함으로서 레이아웃 계산은 한번만 이행한다.

#### 결론

- 가상돔은 실제 돔 문서를 추상화한 개념으로, 변화가 많은 뷰를 실제 돔에서 계속 처리하는 방식이 아닌 가상돔과 메모리에서 미리 처리하고 저장된 후에 실제 DOM과 동기화하는 개념

#### 추상화 (Abstraction)?

- 복잡한 내용은 숨기고, 주요 기능에만 신경 쓰는 것

## 추가 질문 리스트

### DOM 목적?

- 자바스크립트를 사용해서 웹콘텐츠를 추가, 수정, 삭제 그리고 이벤트 처리등을 하기 위해서.
- DOM은 자바스크립트를 사용해서 웹 화면의 콘텐츠를 추가, 수정 삭제 하거나 이벤트를 처리할 수 있도록 프로그램이 인터페이스를 제공한다.

### DOM은 html인가요?

- 깊이 연관되어 있지만 같지는 않다!

### 내가 작성한 HTML 파일이 DOM인가?

- No
- 내가 작성한 HTML 코드와 개발자 도구에서 보여지는 코드가 같아 보이지만, 사실 다르다.

### 소스보기에 보여지는 것들이 DOM인가?

- No

### 크롬 개발자 도구에서 보여주는 것들이 DOM인가?

- Yes

### JavaScript vs DOM

- JavaScript는 브라우저가 읽고 사용하는 언어입니다.
- 하지만 DOM은 그 일이 일어나는 곳입니다.
- DOM은 브라우저내에서 작동하고 존재한다.
- DOM은 파싱 된 HTML이라고 말할 수 있습니다.
- 웹페이지가 로드되면 브라우저는 DOM 페이지을 만든다

### DOM은 자바스크립트 요소?

- 아니다!
- 자바스크립트를 사용해서 명령을 받을 수 있고, 실제로 그렇게 가장 흔히 사용되지만 DOM이 특정 언어에 종속되지는 않음.
- 자바스크립트 객체는 아니지만, 자바스크립트 등을 사용해서 제어할 수 있는 대상
- 어떤 언어로든 라이브러리만 갖추어져 있으면 DOM사용 가능 -> DOM이 API를 가지고 있음.
- ex) 파이썬에서도 BeautifulSoup을 사용해서 DOM조작 가능!

### API?

- 어떤 방식으로 명령이나 요청을 내리면 그거에 따라서 기능들을 수행하도록 만들어 놓은 것

### 9분 jquery vs React

### 화면에 나타나고 바뀌려고 하면 진짜 돔을 써야하는데 Virtual DOM을 왜 만드는가요?

- 실제 DOM은 이것저것 든 게 많고 무거우니까 그것들을 간략한 자바스크립트 오브젝트로 바꾼 다음에 먼저 시뮬레이션을 돌려가지고 가장 경제적으로 DOM에 변화를 가하는 방법을 찾아낸다. -> diffing

### Virtual DOM이 무조건 좋은건가?

- 아니요!
- Svelte!
- 가상돔을 안써서 더 빠름
- 시뮬레이션 과정을 빼면 더 빨라짐

### React, Vue는 왜 Virtual DOM 사용? 안쓰면 더 빠른거 아닌가?

- React, Vue는 라이브러리 or framework 형태
- svelte는 컴파일러
- 차이?

1.

### Svelte가 무조건 좋음? 15분~

- 조심스러운 질문이다.
